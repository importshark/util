"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AssetIndex = void 0;

var _asset = require("../asset");

class AssetIndex {
  static from(child, parent) {
    if (!parent) {
      if (child instanceof AssetIndex) return child;
      parent = {};
    }

    const {
      objects = parent.objects,
      virtual = parent.virtual,
      map_to_resources = parent.map_to_resources
    } = child; // TODO child objects extends parent objects

    return new AssetIndex(objects, virtual, map_to_resources);
  }

  constructor(objects = {}, virtual = false, map_to_resources = false) {
    this.objects = objects;
    this.virtual = virtual;
    this.map_to_resources = map_to_resources;
  }
  /**
   * Gets new array of resolved assets.
   * @returns The asset array.
   */


  transformObjects() {
    return Object.entries(this.objects).map(([path, object]) => _asset.Asset.from(object, {
      path
    }));
  }

}

exports.AssetIndex = AssetIndex;
//# sourceMappingURL=asset-index.js.map