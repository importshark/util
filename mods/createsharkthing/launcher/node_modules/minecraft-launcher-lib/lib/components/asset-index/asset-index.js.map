{"version":3,"sources":["../../../src/components/asset-index/asset-index.ts"],"names":["AssetIndex","from","child","parent","objects","virtual","map_to_resources","constructor","transformObjects","Object","entries","map","path","object","Asset"],"mappings":";;;;;;;AACA;;AAgBO,MAAMA,UAAN,CAAiB;AAET,SAAJC,IAAI,CAACC,KAAD,EAA8BC,MAA9B,EAAyE;AAChF,QAAI,CAACA,MAAL,EAAa;AACT,UAAID,KAAK,YAAYF,UAArB,EAAiC,OAAOE,KAAP;AACjCC,MAAAA,MAAM,GAAG,EAAT;AACH;;AAED,UAAM;AACFC,MAAAA,OAAO,GAAGD,MAAM,CAACC,OADf;AAEFC,MAAAA,OAAO,GAAGF,MAAM,CAACE,OAFf;AAGFC,MAAAA,gBAAgB,GAAGH,MAAM,CAACG;AAHxB,QAIFJ,KAJJ,CANgF,CAYhF;;AAEA,WAAO,IAAIF,UAAJ,CACHI,OADG,EAEHC,OAFG,EAGHC,gBAHG,CAAP;AAKH;;AAEDC,EAAAA,WAAW,CACAH,OAA+B,GAAG,EADlC,EAEAC,OAAgB,GAAG,KAFnB,EAGAC,gBAAyB,GAAG,KAH5B,EAIT;AAAA,SAHSF,OAGT,GAHSA,OAGT;AAAA,SAFSC,OAET,GAFSA,OAET;AAAA,SADSC,gBACT,GADSA,gBACT;AAAG;AAEL;AACJ;AACA;AACA;;;AACIE,EAAAA,gBAAgB,GAAY;AACxB,WAAOC,MAAM,CAACC,OAAP,CAAe,KAAKN,OAApB,EAA6BO,GAA7B,CAAiC,CAAC,CAACC,IAAD,EAAOC,MAAP,CAAD,KAAoBC,aAAMb,IAAN,CAAWY,MAAX,EAAmB;AAAED,MAAAA;AAAF,KAAnB,CAArD,CAAP;AACH;;AAnCmB","sourcesContent":["\nimport { Asset, IAsset } from '../asset';\n\nexport interface IAssetIndex {\n\n    /**\n     * The asset list.\n     */\n    objects: {\n        [path: string]: Omit<IAsset, 'path'>;\n    };\n\n    virtual?: boolean;\n    map_to_resources?: boolean;\n\n}\n\nexport class AssetIndex {\n\n    static from(child: Partial<IAssetIndex>, parent?: Partial<IAssetIndex>): AssetIndex {\n        if (!parent) {\n            if (child instanceof AssetIndex) return child;\n            parent = {};\n        }\n\n        const {\n            objects = parent.objects,\n            virtual = parent.virtual,\n            map_to_resources = parent.map_to_resources,\n        } = child;\n\n        // TODO child objects extends parent objects\n\n        return new AssetIndex(\n            objects,\n            virtual,\n            map_to_resources,\n        );\n    }\n\n    constructor(\n        public objects: IAssetIndex['objects'] = {},\n        public virtual: boolean = false,\n        public map_to_resources: boolean = false,\n    ) { }\n\n    /**\n     * Gets new array of resolved assets.\n     * @returns The asset array.\n     */\n    transformObjects(): Asset[] {\n        return Object.entries(this.objects).map(([path, object]) => Asset.from(object, { path }));\n    }\n\n}\n"],"file":"asset-index.js"}